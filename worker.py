def worker(schedule_time: str = "19:00"):
    """
    НАЗНАЧЕНИЕ ФУНКЦИИ
    ------------------
    запускает планировщик задач для автоматического парсинга;
    Функция настраивает ежедневный запуск парсинга в указанное время и запускает бесконечный цикл ожидания с проверкой расписания
    
    ВХОДНЫЕ ПАРАМЕТРЫ
    -----------------
    schedule_time : str, optional
        Время запуска в формате "HH:MM" (default is "19:00").
        Примеры: "19:00", "09:30", "15:45"
    
    ПРИМЕЧАНИЯ
    ----------
    - цикл проверяет расписание каждую минуту
    - программа работает до принудительной остановки. Команда: Ctrl+C)
    - при каждом запуске выводится информация о времени выполнения
    - результаты автоматически сохраняются в файл "books_data.txt"
    """
    # Настройка расписания
    schedule.every().day.at(schedule_time).do(scheduled_scraping)
    
    print(f"\n{'*'*70}")
    print(f"* ПЛАНИРОВЩИК ЗАПУЩЕН")
    print(f"* Запланированное время выполнения: каждый день в {schedule_time}")
    print(f"* Текущее время: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}")
    print(f"* Для остановки нажмите Ctrl+C")
    print(f"{'*'*70}\n")
    
    # Вывод времени следующего запуска
    next_run = schedule.next_run()
    if next_run:
        print(f"Следующий запуск запланирован на: {next_run.strftime('%Y-%m-%d %H:%M:%S')}\n")
    
    # Бесконечный цикл выполнения задач по расписанию
    try:
        while True:
            # Проверяем, нужно ли выполнить задачу
            schedule.run_pending()
            
            # Ожидаем 60 секунд перед следующей проверкой
            # Это снижает нагрузку на систему
            time.sleep(60)
            
    except KeyboardInterrupt:
        print(f"\n{'*'*70}")
        print(f"* ПЛАНИРОВЩИК ОСТАНОВЛЕН ПОЛЬЗОВАТЕЛЕМ")
        print(f"* Время остановки: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}")
        print(f"{'*'*70}\n")


if __name__ == "__main__":
    
    # --------------------------------------------------
    # Тест_1: запуск по расписанию (в 19:00 каждый день)
    # --------------------------------------------------
    worker(schedule_time="19:00")
    
    # ----------------------------
    # Тест_2: запуск через N минут
    # ----------------------------
    # from datetime import timedelta
    # test_time = (datetime.now() + timedelta(minutes=1)).strftime("%H:%M")
    # print(f"ТЕСТ_2: запуск запланирован через 1 минуту - в {test_time}")
    # worker(schedule_time=test_time)
    
    # --------------------------
    # Тест_2: однократный запуск
    # --------------------------
    # scrape_books(is_save_to_file=True)